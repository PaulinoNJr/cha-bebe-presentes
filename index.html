<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lista de Presentes - Chá da Melissa (Mel)</title>

  <!-- Bootswatch (Bootstrap 5) - Minty -->
  <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.3/dist/minty/bootstrap.min.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="./assets/css/index.css">
</head>
<body class="bg-light">
  <div class="sticky-actions border-bottom">
    <div class="container py-3 d-flex flex-wrap gap-2 align-items-center justify-content-between">
      <div>
        <span class="chip-love">Com carinho para a Mel</span>
        <h1 class="brand-title">Chá da Melissa (Mel)</h1>
        <div class="brand-subtitle">Escolha um item, informe seu nome e quantidade. Cada gesto de carinho é especial para nossa pequena.</div>
      </div>
      <div class="d-flex gap-2 flex-wrap align-items-center">
        <button id="refreshBtn" class="btn btn-outline-primary btn-sm">Atualizar</button>
        <a href="./admin.html" class="btn btn-warning btn-sm">Admin</a>
      </div>
    </div>
  </div>

  <div class="container pt-3 pb-1">
    <div id="instructionsBox" class="alert alert-warning d-none mb-0"></div>
  </div>

  <div class="container py-3">
    <div class="d-flex justify-content-between align-items-center flex-wrap gap-2 mb-2 filter-ribbon">
      <label for="classFilter" class="small text-muted mb-0">Filtrar por categoria:</label>
      <select id="classFilter" class="form-select form-select-sm" style="max-width: 320px;">
        <option value="">Todas as classificações</option>
      </select>
    </div>
    <div id="status" class="alert alert-secondary py-2 small">Carregando...</div>
    <div id="grid" class="row g-3"></div>
    <div class="text-muted small mt-3">
      Dica: se a quantidade acabar enquanto você reserva, o sistema bloqueia automaticamente.
    </div>
  </div>

  <a
    class="whats-fab"
    href="https://wa.me/5519997591102"
    target="_blank"
    rel="noopener noreferrer"
    aria-label="Conversar no WhatsApp"
    title="Falar no WhatsApp"
  >
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="30" height="30" aria-hidden="true">
      <path fill="currentColor" d="M16 3C8.8 3 3 8.7 3 15.9c0 2.3.6 4.5 1.8 6.4L3 29l6.9-1.8c1.8 1 3.9 1.6 6.1 1.6 7.2 0 13-5.7 13-12.9S23.2 3 16 3zm0 23.5c-2 0-3.9-.5-5.6-1.5l-.4-.2-4.1 1.1 1.1-4-.3-.4C5.6 19.8 5 17.9 5 15.9 5 9.9 9.9 5 16 5s11 4.9 11 10.9-4.9 10.6-11 10.6zm6.1-7.9c-.3-.1-1.9-.9-2.2-1-.3-.1-.5-.1-.7.1-.2.3-.8 1-.9 1.1-.2.2-.3.2-.6.1-1.8-.9-3-1.7-4.2-3.8-.3-.5.3-.5.8-1.6.1-.2.1-.4 0-.5-.1-.1-.7-1.7-1-2.3-.3-.7-.6-.6-.8-.6h-.7c-.2 0-.5.1-.7.3-.2.3-1 1-1 2.4s1 2.8 1.1 3c.1.2 2 3.2 4.9 4.4.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.5-.1 1.9-.8 2.1-1.6.3-.8.3-1.5.2-1.6-.1-.1-.3-.2-.6-.3z"/>
    </svg>
  </a>

  <!-- Modal Reserva -->
  <div class="modal fade" id="reserveModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalTitle">Reservar</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
        </div>
        <div class="modal-body">
          <div id="modalDesc" class="text-muted small mb-2"></div>

          <div class="mb-3">
            <label class="form-label">Seu nome</label>
            <input id="nameInput" class="form-control" placeholder="Ex: Ana Souza" maxlength="80">
            <div class="form-text">Use nome e sobrenome (evita duplicidade).</div>
          </div>

          <div class="mb-3">
            <label class="form-label">Quantidade</label>
            <select id="qtySelect" class="form-select"></select>
            <div class="form-text" id="qtyHelp"></div>
          </div>

          <div id="modalAlert" class="alert d-none mb-0" role="alert"></div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button id="confirmBtn" class="btn btn-primary">Confirmar reserva</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="./supabase-config.js"></script>

  <script type="module" src="./assets/js/index.js"></script>
</body>
</html>



